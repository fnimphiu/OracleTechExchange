<!DOCTYPE html>
<!--
 * Copyright © 2018, Oracle and/or its affiliates. All rights reserved.
 *
 * The Universal Permissive License (UPL), Version 1.0
 -->
<html lang="en">

<head>
    <!-- Part number: Ennnnn-01 -->
    <!-- Published date: Month Year -->
    <!-- Template date: October 15, 2018 -->
    <!-- Put the content ID of this OBE between the empty quotation marks for 'content' below -->
    <meta name="contentid" content="">
    <meta content="text/html; charset=utf-8" http-equiv="content-type">
    <!-- The title below is displayed on the browser tab, in search results, and in  history. It can be longer than the tutorial title in the <h1> element, below.-->
    <!-- Use an imperative verb in the title. -->
    <title>ODA Insights</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="robots" content="INDEX, FOLLOW">
    <meta name="description" content="Put the description of the tutorial here.">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="css/normalize.min.css">
    <link rel="stylesheet" href="css/font-awesome.min.css">
    <link rel="stylesheet" href="css/obe-lite.css">
    <script src="js/jquery-1.11.0.min.js"></script>
    <script src="js/jquery-ui-1.10.4.custom.js"></script>
    <script src="js/jquery.tocify.jd.js"></script>
    <script src="js/leftnav.js"></script>
</head>

<body>
    <header>
        <div class="w1024" style="min-height:55px; display:block;">
            <a href="https://docs.oracle.com" class="oracle-logo"> <img src="img/oracle_doc_logo.png" alt="Oracle Documentation" style="max-width: none;" height="22" width="236"></a>
        </div>
    </header>
    <!--end header-->
    <div id="content">
        <!-- The title below is displayed as the title at the top of the OBE page. It can be shorter than the title in the <title> element, above. -->
        <!-- Use an imperative verb in the title. -->
        <h1><img src="img/obe_tag.png" align="middle" alt="Oracle by Example branding">Oracle Digital Assistant Insights</h1>
        <div class="w1024" style="clear:both; position:relative; margin-top:40px;">
            <div class="navbackwide border-right">
                <!-- -->
            </div>
            <div id="shownav" title="Show Navigation" tabindex="0"><span class="fa fa-list"></span></div>
            <div id="sidebar">
                <!-- -->
                <div class="left-nav-tut">
                    <!-- -->
                    <div id="hidenavw" title="Hide Navigation" tabindex="0"><span class="fa fa-close"></span></div>
                    <div id="navbar" class="left-nav-w">
                        <!-- -->
                        <div id="toc" class="tocify">
                            <!-- -->
                        </div>
                    </div>
                </div>
            </div>
            <div id="bookContainer">
                <article>
                    <p class="MsoNormal" style="text-align:justify"><span style="mso-ansi-language:EN-US" lang="EN-US"><b>
                                <font size="+1">Tutorial by Abhay Bhavsar, Oracle</font>
                            </b>
                            <br>
                            Mar 2019, Oracle Digital Assistant version 19.1.3<br>
                        </span></p>
                    <p class="MsoNormal" style="text-align:justify"><span style="mso-ansi-language:EN-US" lang="EN-US"></span></p>
                    <p class="MsoNormal" style="text-align:justify"><span style="mso-ansi-language:EN-US" lang="EN-US"></span></p>
                    <section>
                        <h2><img src="img/32_begin.png" alt="section 0" height="32" width="32" class="num_circ">Before You Begin</h2>
                        <p class="MsoNormal" style="text-align:justify"><span style="mso-ansi-language:EN-US" lang="EN-US">This 45-minute tutorial shows you how to use Insights to find out issues with your skills deployed on Oracle Digital Assistant. It also helps you identify and fix issues in your skill's understanding. For example, using the retrainer you can find unresolved phrase, see recommendations of their closest predictions and train the skill to handle those user messages by retraining intents with the new phrases.</span></p>
                        <h3>Background</h3>
                        <p class="MsoNormal" style="text-align:justify"><span style="mso-ansi-language:EN-US" lang="EN-US"></span></p>
                        <p class="MsoNormal" style="text-align:justify"><span style="mso-ansi-language:EN-US" lang="EN-US">Below is a typical Insights Report. The <b>Overview</b> tab gives an insight into how the skill is performing. For example completed versus incompleted conversations and what were the top resolved intents.</span> </p>
                        <figure><img src="img/image-1.png" width="100%" alt="Description of sample-arch-image.png follows">
                            <figcaption><a href="files/sample-arch-image.txt">Typical Skills Insights Report</a></figcaption>
                        </figure>
                        <h3>What Do You Need?</h3>
                        <ul>
                            <li>Access to an Oracle Digital Assistant instance.</li>
                            <li>A starter skill is supplied as part of this tutorial.</li>
                        </ul>
                    </section>
                    <!-- ========================================================================================================================= -->
                    <section>
                        <hr>
                        <h2 id="section_1" role="button" style="text-align: left;"><img src="img/32_1.png" alt="section 1" height="32" width="32" class="num_circ">Download And Clone The Starter Skill</h2>
                        <p class="MsoNormal" style="text-align:justify"><span style="mso-ansi-language:EN-US" lang="EN-US">First of all you need to download the starter skill.</span></p>
                        <figure><img src="img/image-2.png" width="100%" alt="Description of sample-image-1.png follows">
                            <figcaption><a href="files/sample-image-1.txt">Oracle Digital Assistant Skills</a></figcaption>
                        </figure>
                        <ol>
                            <li>Download the starter skill XX_CrcPizzaSkill from <a href="files/XX_CrcPizzaSkill(1.0).zip">here</a></li>
                            <li>With the Oracle Digital Assistant UI open in your browser, click <img src="img/hamburger.png" alt="Main Menu"> to open the side menu.</li>
                            <li>Expand <b>Development</b> and then click <b>Skills</b>.</li>
                            <li>Import the XX_CrcPizzaSkill into the Oracle Digital Assistant instance using the <img src="img/importSkillButton.png" alt="Import Skill"> button. If the skill already exists you can skip this step or delete it and re-import it.</li>
                            <li>Within the tile for the XX_CrcPizzaSkill skill, click <img src="img/options-menu.png" alt="Options menu">, select <b>Clone</b>, and name the clone &lt;Your_Unique_Initials&gt;_CrcPizzaSkill</li>
                            <li>Open the &lt;Your_Unique_Initials&gt;_CrcPizzaSkill Skill and observe the intent and the utterances.
                                <figure><img src="img/image-3.png" width="100%" alt="Intent & Utterances">
                                    <figcaption><a href="files/sample-image-1.txt">Intents & Utterances</a></figcaption>
                                </figure>
                            </li>
                            <li>Click on <b>Settings</b> in the left nav bar and ensure <b>Enable Insights</b> is selected as shown in the figure below.
                                <figure><img src="img/image-4.png" width="100%" alt="Enable Insights">
                                    <figcaption><a href="files/sample-image-1.txt">Enable Insights</a></figcaption>
                                </figure>
                            </li>
                            <li>Click on <b>validate</b> followed by <b>Train</b> to ensure the skill is ready.
                            </li>

                        </ol>
                    </section>
                    <hr>
                    <section>
                        <h2 id="section_2" role="button" style="text-align: left;"><img src="img/32_2.png" alt="section 2" height="32" width="32" class="num_circ">Basic Conversation Insights</h2>
                        <p>You are now going to use Insights to understand how the user interacted with the skill and in particular, whether particular conversations with the skill resulted in the successful ordering or a pizza or not.</p>
                        <h3>Creating a conversation</h3>
                        <p>First of all we need to have a few conversations with the skill in order for us to generate some insight data.</p>
                        <ol>
                            <li>Go to <b>Insights</b> as shown in the figure below. Notice that there are no conversations since the skill has just been imported and no conversations have taken place yet.
                                <figure><img src="img/image-5.png" width="100%" alt="View Skill Insights">
                                    <figcaption><a href="files/sample-image-1.txt">View Insights</a></figcaption>
                                </figure>
                            </li>
                            <li>Open the Tester <img src="img/testerIcon.png" alt="Tester"> in the left navbar. This will open a dialog. Start a conversation by entering a simple <i>Hi</i> and see the skill response. The idea is to start a simple welcome conversation and observe this within Insights.
                                <figure><img src="img/image-6.png" width="100%" alt="Test the skill">
                                    <figcaption><a href="files/sample-image-1.txt">Test the skill</a></figcaption>
                                </figure>
                            </li>
                            <li>Click on the <img src="img/closeButton.png" alt="Close" /> icon to close the tester window.</li>
                            <li>Click on <b>Insights</b> as shown in the figure below. You will see the Insights Overview report. It may take a few seconds for the report to be refreshed. Notice that the WelcomePizza intent is displayed with a single conversation.
                                <figure><img src="img/image-7.png" width="100%" alt="Insights Overview report">
                                    <figcaption><a href="files/sample-image-1.txt">Insights Overview report</a></figcaption>
                                </figure>
                            </li>
                            <li>Now go back to the tester dialog window and enter <i>"Can you order pasta for me"</i>.  Notice that ordering pasta is not a function the skill supports although it did respond approriately.
                                <figure><img src="img/image-8.png" width="100%" alt="unresolvedIntent">
                                    <figcaption><a href="files/sample-image-1.txt">unresolvedIntent report</a></figcaption>
                                </figure>
                            </li>
                            <li>Click on the <img src="img/resetLink.png" alt="Reset" /> button on the tester and enter <i>"I would like to order a pizza"</i>. Continue the conversation following the screenshot and enter the information as shown until the skill replies that it has placed an order for a pizza.
                                <figure><img src="img/image-9.png" width="100%" alt="unresolvedIntent">
                                    <figcaption><a href="files/sample-image-1.txt">Order a pizza</a></figcaption>
                                </figure>
                            </li>
                            <li>Click <b>Close</b> to close the tester</li>
                            <li>Click <b>Insights</b> from the left navbar to view the Insights report and notice that there are 3 conversations. Note that if you have already gone through multiple conversations as per your testing, you will find more conversations reported on the Insights report.
                                <figure><img src="img/image-10.png" width="100%" alt="3 Conversations">
                                    <figcaption><a href="files/sample-image-1.txt">Insights report showing 3 conversations</a></figcaption>
                                </figure>
                            </li>
                            <li>Now go back to the tester and start with a pizza order but when a list of pizzas are shown, do not select but rather enter each of the following sentences, one after the other.
                                <ul>
                                    <li>that's not what I am looking for</li>
                                    <li>need something special actually</li>
                                    <li>how about a sandwich</li>
                                </ul>
                                You will notice that the skill shows that it is not able to place an order.
                                <figure><img src="img/image-11.png" width="100%" alt="failed conversation">
                                    <figcaption><a href="files/sample-image-1.txt">Failed conversation</a></figcaption>
                                </figure>
                            </li>
                            <li>Click <b>Close</b> to close the tester</li>
                        </ol>
                        <h3>Using Insights to understand a conversation</h3>
                        <p>Now that you have some conversations, let's use Insights to understand how well the skill managed those conversations and whether we identified any problems the user may have had.</p>
                        <ol>
                            <li>Click <b>Insights</b> from the left navbar</li>
                            <li>Now observe the Insights overview report. Note that you will find 4 completed conversations even though the last conversation did not result in placement of an order. At this time, the insight report doesn't differentiate between a conversation which completes with an order, and a conversation that completes through the skill handling incorrect input. To better understand these differences we have to drill down further.
                                <figure><img src="img/image-12.png" width="100%" alt="Insights so far">
                                    <figcaption><a href="files/sample-image-1.txt">Insights overview of conversations so far</a></figcaption>
                                </figure>
                            </li>
                            <li>Click on the <b>Conversations</b> tab and notice the 2 completed conversations for intent OrderPizza. You will notice that both are shown as completed but only one resulted in placement of an order. So now you can at least see that there might have been different outcomes for those conversations.
                                <figure><img src="img/image-13.png" width="100%" alt="Insights so far">
                                    <figcaption><a href="files/sample-image-1.txt">Completed conversations</a></figcaption>
                                </figure>
                            </li>
                            <li>Go to <b>Paths</b>. Select OrderPizza as <b>Intent</b> and Completed for <b>Outcome</b>. Select showPizzaOrder as the <b>Final State</b>. You will see only one completed conversations that ended with showPizzaOrder.
                                <p>So you now have further insight that only one of the OrderPizza conversations actually resulting in the showing of the completed order.</p>
                                <figure><img src="img/image-14.png" width="100%" alt="showPizzaOrder">
                                    <figcaption><a href="files/sample-image-1.txt">Final State - showPizzaOrder</a></figcaption>
                                </figure>
                            </li>
                            <li>In the same screen, for <b>Final State</b> select startUnresolved.<p>You will notice that there is one completed conversation that ended with state startUnresolved. Also observe that the flow went into an state named maxError - this identifies a conversation which could not capture relevant information from the end user and hence exited the conversation only to go to a state in the conversation which indicated the order was not completed.

                                </p>
                                <figure><img src="img/image-15.png" width="100%" alt="showPizzaOrder">
                                    <figcaption><a href="files/sample-image-1.txt">maxError - resulted in exit</a></figcaption>
                                </figure>
                            </li>
                            <li>Visit the dialog flow BotML and locate the state startUnresolved. Notice that there is a return transition. This marks the conversation complete. This explains why a conversation is shown as completed even though it did not result in placement of an order.
                                <figure><img src="img/image-16.png" width="100%" alt="showPizzaOrder">
                                    <figcaption><a href="files/sample-image-1.txt">Return marks a conversation complete</a></figcaption>
                                </figure>
                            </li>


                        </ol>
                    </section>
                    <hr>
                    <section>
                        <h2 id="section_3" role="button" style="text-align: left;"><img src="img/32_3.png" alt="section 3" height="32" width="32" class="num_circ">
                            Insight Into Unresolved Phrases</h2>
                        <p class="MsoNormal" style="text-align:justify"><span style="mso-ansi-language:EN-US" lang="EN-US">
                                Let's now use Insights to understand if the skill failed to understand user input and whether the skills developer can use the Retrainer tool to train the skill to better understand the user.
                            </span></p>
                        <ol>
                            <li>Click the Skill Tester in the left navbar <img src="img/testerIcon.png" alt="tester">

                            </li>
                            <li>Click on the Reset button. <img src="img/resetLink.png" alt="tester"></li>
                            <li>In the chat window, enter <i>My daughter likes a thin crust</i></li>
                            <li>Click on <b>Insights</b> from the left navbar then <b>Intents</b> and then click on unresolveIntent item from the list on the left as shown in the figure below. Click on the OrderPizza intent on the graph.
                                <figure><img src="img/image-24.png" width="100%" alt="showPizzaOrder">
                                    <figcaption><a href="files/sample-image-1.txt">Figure 18: Observe the closest prediction i.e. the OrderPizza intent. </a></figcaption>
                                </figure>
                                The skill's current confidence threshold is 0.40. It seems the utterance you entered just missed the OrderPizza intent. Note that depending on your utterances and version of the Oracle Digital Assistant this figure may vary.
                            </li>
                            <li>Click the Skill Tester in the left navbar <img src="img/testerIcon.png" alt="tester">
                            <li>Enter the following utterances one after the other. Ensure that you click on the <b>Reset</b> button after entering every utterance.
                                <ul>
                                    <li>order a thin crust large one with extra mushrooms</li>
                                    <li>order a pepperoni with extra Olives</li>
                                    <li>A regular pan size with tomatoes</li>
                                    <li>Order for me a regular pan size veggy</li>
                                </ul>
                                <p>In doing this you are supplying utterances to the skill which the skill is going to have trouble understanding.</p>
                            <li>Click <b>Close</b> to close the tester</li>

                            </li>
                            <li>Go to the <b>Insights</b> in the left navbar and click on <b>Intents</b> again. Click on the unresolveIntent on the graph. This would show all the new utterances that you just entered. It will also show the score.
                                <figure><img src="img/image-25.png" width="100%" alt="showPizzaOrder">
                                    <figcaption><a href="files/sample-image-1.txt">Figure 19: Insights overview report showing unresolvedIntents and closet predictions</a></figcaption>
                                </figure>
                            </li>
                            <li>Click on <b>Retrainer</b>. This shows the unresolved utterances and gives you an opportunity to retrain the skill with these phrases. </li>
                            <li>You can select as many utterances as you want and select the OrderPizza intent from the Add To dropdown list.

                                <figure><img src="img/image-27.png" width="100%" alt="showPizzaOrder">
                                    <figcaption><a href="files/sample-image-1.txt">Figure 21: Retrain the skill.</a></figcaption>
                                </figure>
                            </li>
                            <li>Click <b>Add Example</b> to add these phrase are training utterances for the OrderPizza intent</li>
                            <li>Now train the skill. After successful training test any of the utterances that you added to the Retrainer. It would now successfull flow through the OrderPizza intent conversation.
                                <figure><img src="img/image-28.png" width="100%" alt="showPizzaOrder">
                                    <figcaption><a href="files/sample-image-1.txt">Figure 22: Conversations showing 1 incomplete conversation and 1 complete conversation for the same questions from the user.</a></figcaption>
                                </figure>
                            </li>
                        </ol>
                        <p>Congratulations! You have completed an introduction to Insights. You noticed that a return transition is required to mark a conversation as complete. You also used the Retrainer capability to find utterances that did not match the OrderPizza intent and then added those, retrained the skill and verified.</p>
                    </section>
                    <hr>

                    <section>
                        <!-- Include the More Information section only in a standalone tutorial or in the final lab or tutorial in a series (not in a learning path) -->
                        <h2 id="more_info" role="button" style="text-align: left;"><img src="img/32_more.png" alt="more information" height="32" width="32" class="num_circ">Want to Learn More?</h2>
                        <ul>
                            <li><a href="https://docs.oracle.com/en/cloud/paas/digital-assistant/use-chatbot/insights1.html#GUID-DA83A784-69CF-45CB-AB1E-0F08D2B2E6CF" target="_blank">ODA Insights Official Documentation</a></li>
                        </ul>
                    </section>
                    <hr>
                </article>
            </div>
            <br class="clearfloat">
        </div>
    </div>
    <!--close main-->
    <!--end content-->
    <div class="footer-container ">
        <div style="max-width: 994px; padding:10px 0 0 17px;">
            <footer class="footer-list">
                <ul>
                    <li> <a href="https://www.oracle.com/corporate/index.html" target="_blank">About Oracle</a> </li>
                    <li> <a href="https://www.oracle.com/us/corporate/contact/index.html" target="_blank">Contact Us</a> </li>
                    <li> <a href="https://www.oracle.com/us/legal/index.html" target="_blank">Legal Notices</a> </li>
                    <li> <a href="https://www.oracle.com/us/legal/terms/index.html" target="_blank">Terms of Use</a> </li>
                    <li> <a href="https://www.oracle.com/us/legal/privacy/index.html" target="_blank">Your Privacy Rights</a> </li>
                    <li> <a href="https://www.oracle.com/pls/topic/lookup?ctx=cpyr&id=en">Copyright © 2018, Oracle and/or its affiliates. All rights reserved.</a></li>
                </ul>
            </footer>
        </div>
        <script type="text/javascript" src="https://www.oracleimg.com/us/assets/metrics/ora_docs.js"></script>
    </div>
    <!-- OBE Dialog Box code 10/15/2018 -->
    <!-- DO NOT ALTER THE CODE BELOW   -->
    <div id="lpModal" class="modal">
        <!-- Modal hdr and body -->
        <div id="obe_dialog" class="modal-content">
            <div class="modal-header">
                <a href="#" class="close"> <span class="close">&times;</span> </a>
                <h1>Associated Learning Paths</h1>
            </div>
            <div id="dialog-content"> </div>
            <div id="dialog-close" class="closeBtn">
                <a href="#" class="close2">
                    <p class="close2"> <span>&nbsp;&nbsp;View&nbsp;&nbsp;</span> </p>
                </a>
            </div>
        </div>
    </div>
    <!-- END OBE Dialog Box code -->
</body>

</html>
